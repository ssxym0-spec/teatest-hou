# å˜æ›´æ—¥å¿—: ä¿®å¤é‡‡æ‘˜è®°å½•æ—¥æœŸèŒƒå›´åŒ¹é…é€»è¾‘
**æ—¥æœŸ**: 2025-01-27
**ä»»åŠ¡**: ä¿®å¤ findCategoryIdForDate å‡½æ•°ä¸­çš„æ—¥æœŸæ¯”è¾ƒé€»è¾‘ï¼Œç¡®ä¿æ­£ç¡®åŒ¹é…å“ç±»æ—¥æœŸèŒƒå›´

## ðŸ“‚ æ–‡ä»¶å˜æ›´
### ä¿®æ”¹ (Modified)
- `src/controllers/harvestController.ts`: ä¿®å¤ `findCategoryIdForDate` å‡½æ•°ä¸­çš„æ—¥æœŸèŒƒå›´æ¯”è¾ƒé€»è¾‘

## ðŸ’¡ æŠ€æœ¯è¯´æ˜Ž (Technical Notes)

### é—®é¢˜åˆ†æž
**Bug æè¿°**:
- è®¾ç½®"å†¬èŒ¶"çš„é‡‡æ‘˜æœŸä¸º 10.1-11.30
- æ–°å»º 2025.11.11 çš„è®°å½•æ—¶ï¼Œæ²¡æœ‰è¢«å½’ç±»åˆ°"å†¬èŒ¶"ï¼Œè€Œæ˜¯è¢«é”™è¯¯å½’ç±»ä¸º"æœªåˆ†ç±»"

**æ ¹æœ¬åŽŸå› **:
- åœ¨ `findCategoryIdForDate` å‡½æ•°ä¸­ï¼Œ`pickingEndDate` è¢«æ ‡å‡†åŒ–ä¸ºå½“å¤©çš„å¼€å§‹æ—¶é—´ï¼ˆ00:00:00ï¼‰
- è¿™å¯¼è‡´æ—¥æœŸèŒƒå›´æ¯”è¾ƒæ—¶ï¼Œç»“æŸæ—¥æœŸåªåŒ…å«åˆ°å½“å¤©çš„ 00:00:00ï¼Œè€Œä¸æ˜¯ 23:59:59
- ä¾‹å¦‚ï¼š11.30 è¢«å¤„ç†ä¸º 11.30 00:00:00ï¼Œè€Œä¸æ˜¯ 11.30 23:59:59.999
- å› æ­¤ï¼Œ11.11 çš„è®°å½•æ— æ³•æ­£ç¡®åŒ¹é…åˆ°åŒ…å« 11.30 çš„æ—¥æœŸèŒƒå›´

### ä¿®å¤å†…å®¹

#### æ—¥æœŸæ ‡å‡†åŒ–é€»è¾‘ä¿®å¤
1. **harvestDateOnly**: ä¿æŒä¸ºå½“å¤©çš„å¼€å§‹æ—¶é—´ï¼ˆ00:00:00ï¼‰
2. **startDate**: ä¿æŒä¸ºå½“å¤©çš„å¼€å§‹æ—¶é—´ï¼ˆ00:00:00ï¼‰
3. **endDate**: **ä¿®å¤ä¸ºå½“å¤©çš„ç»“æŸæ—¶é—´ï¼ˆ23:59:59.999ï¼‰**

#### æ¯”è¾ƒé€»è¾‘
- `harvestDateOnly >= startDate`: é‡‡æ‘˜æ—¥æœŸçš„ 00:00:00 >= å¼€å§‹æ—¥æœŸçš„ 00:00:00
- `harvestDateOnly <= endDate`: é‡‡æ‘˜æ—¥æœŸçš„ 00:00:00 <= ç»“æŸæ—¥æœŸçš„ 23:59:59.999

è¿™æ ·ç¡®ä¿äº†ï¼š
- å¼€å§‹æ—¥æœŸï¼ˆå¦‚ 10.1ï¼‰çš„æ•´å¤©éƒ½è¢«åŒ…å«ï¼ˆä»Ž 00:00:00 å¼€å§‹ï¼‰
- ç»“æŸæ—¥æœŸï¼ˆå¦‚ 11.30ï¼‰çš„æ•´å¤©éƒ½è¢«åŒ…å«ï¼ˆåˆ° 23:59:59.999 ç»“æŸï¼‰
- èŒƒå›´å†…çš„ä»»ä½•æ—¥æœŸï¼ˆå¦‚ 11.11ï¼‰éƒ½èƒ½æ­£ç¡®åŒ¹é…

### å®žçŽ°æ•ˆæžœ
- âœ… 2025.11.11 çš„è®°å½•çŽ°åœ¨èƒ½æ­£ç¡®å½’ç±»åˆ°"å†¬èŒ¶"ï¼ˆé‡‡æ‘˜æœŸ 10.1-11.30ï¼‰
- âœ… æ—¥æœŸèŒƒå›´åŒ¹é…é€»è¾‘æ­£ç¡®ï¼ŒåŒ…å«å¼€å§‹å’Œç»“æŸçš„æ•´å¤©
- âœ… æ‰€æœ‰åœ¨å“ç±»æ—¥æœŸèŒƒå›´å†…çš„é‡‡æ‘˜è®°å½•éƒ½èƒ½æ­£ç¡®è‡ªåŠ¨åˆ†ç±»

