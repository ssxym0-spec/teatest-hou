# Change Log: å…¨é‡æ¨¡å—è¡¥å…¨
**Date**: 2025-01-24
**Task**: å…¨é‡å·®å¼‚åˆ†æä¸è¡¥å…¨ - ä¿®å¤æ‰€æœ‰ç¼ºå¤±çš„ API æ¨¡å—ï¼Œè§£å†³é¡µé¢åŠ è½½å¤±è´¥é—®é¢˜

## ğŸ“‚ File Changes

### 1. Created Files

#### æ¨¡æ¿ç®¡ç†æ¨¡å—
- `src/controllers/templateController.ts`: åˆ›å»ºæ¨¡æ¿ç®¡ç†æ§åˆ¶å™¨
  - å®ç°äº†åˆ¶ä½œæ­¥éª¤æ¨¡æ¿ï¼ˆProduction Step Templatesï¼‰çš„ CRUD æ“ä½œ
    - `getAllStepTemplates`: è·å–æ‰€æœ‰åˆ¶ä½œæ­¥éª¤æ¨¡æ¿
    - `updateStepTemplate`: æ›´æ–°å•ä¸ªåˆ¶ä½œæ­¥éª¤æ¨¡æ¿ï¼ˆæŒ‰æ­¥éª¤åç§°ï¼‰
  - å®ç°äº†æ‰¹æ¬¡è¯¦æƒ…æ ‡é¢˜æ¨¡æ¿ï¼ˆTitle Templatesï¼‰çš„ç®¡ç†åŠŸèƒ½
    - `getAllTitleTemplates`: è·å–æ‰€æœ‰æ‰¹æ¬¡è¯¦æƒ…æ ‡é¢˜æ¨¡æ¿
    - `updateTitleTemplates`: æ‰¹é‡æ›´æ–°æ‰€æœ‰æ‰¹æ¬¡è¯¦æƒ…æ ‡é¢˜æ¨¡æ¿
  - å®ç°äº†é‰´èµæ¨¡æ¿ï¼ˆAppreciation Templatesï¼‰çš„ CRUD æ“ä½œ
    - `getAllAppreciationTemplates`: è·å–æ‰€æœ‰é‰´èµæ¨¡æ¿
    - `updateAppreciationTemplate`: æ›´æ–°å•ä¸ªé‰´èµæ¨¡æ¿ï¼ˆæŒ‰å“ç±»åç§°ï¼‰
    - `deleteAppreciationTemplate`: åˆ é™¤å•ä¸ªé‰´èµæ¨¡æ¿
  - ä½¿ç”¨ Prisma Client æ›¿ä»£ Mongoose è¿›è¡Œæ•°æ®åº“æ“ä½œ
  - æ­£ç¡®å¤„ç† JSON ç±»å‹å­—æ®µ

- `src/routes/templateRoutes.ts`: åˆ›å»ºæ¨¡æ¿ç®¡ç†è·¯ç”±
  - `GET /api/step-templates` - è·å–åˆ¶ä½œæ­¥éª¤æ¨¡æ¿åˆ—è¡¨ï¼ˆéœ€ç™»å½•ï¼‰
  - `PUT /api/step-templates/:stepName` - æ›´æ–°åˆ¶ä½œæ­¥éª¤æ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰
  - `GET /api/title-templates` - è·å–æ‰¹æ¬¡è¯¦æƒ…æ ‡é¢˜æ¨¡æ¿åˆ—è¡¨ï¼ˆéœ€ç™»å½•ï¼‰
  - `POST /api/title-templates` - æ‰¹é‡æ›´æ–°æ‰¹æ¬¡è¯¦æƒ…æ ‡é¢˜æ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰
  - `GET /api/appreciation-templates` - è·å–é‰´èµæ¨¡æ¿åˆ—è¡¨ï¼ˆéœ€ç™»å½•ï¼‰
  - `PUT /api/appreciation-templates/:categoryName` - æ›´æ–°é‰´èµæ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰
  - `DELETE /api/appreciation-templates/:categoryName` - åˆ é™¤é‰´èµæ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰

#### ç»¼åˆç®¡ç†æ¨¡å—
- `src/controllers/managementController.ts`: åˆ›å»ºç»¼åˆç®¡ç†æ§åˆ¶å™¨
  - **ç­‰çº§ç®¡ç†ï¼ˆGradesï¼‰**ï¼š
    - `getAllGrades`: è·å–æ‰€æœ‰äº§å“ç­‰çº§
    - `createGrade`: åˆ›å»ºæ–°ç­‰çº§
    - `updateGrade`: æ›´æ–°ç­‰çº§
    - `deleteGrade`: åˆ é™¤ç­‰çº§
  - **äººå‘˜ç®¡ç†ï¼ˆPersonnelï¼‰**ï¼š
    - `getAllPersonnel`: è·å–äººå‘˜åˆ—è¡¨ï¼ˆæ”¯æŒæŒ‰è§’è‰²ç­›é€‰ï¼‰
    - `createPersonnel`: æ–°å¢äººå‘˜
    - `updatePersonnel`: æ›´æ–°äººå‘˜ä¿¡æ¯
    - `deletePersonnel`: åˆ é™¤äººå‘˜
  - **å¤©æ°”æ¨¡æ¿ç®¡ç†ï¼ˆWeather Templatesï¼‰**ï¼š
    - `getAllWeatherTemplates`: è·å–å¤©æ°”æ¨¡æ¿åˆ—è¡¨ï¼ˆæ”¯æŒä»…è·å–å¯ç”¨çš„æ¨¡æ¿ï¼‰
    - `createWeatherTemplate`: åˆ›å»ºå¤©æ°”æ¨¡æ¿
    - `updateWeatherTemplate`: æ›´æ–°å¤©æ°”æ¨¡æ¿
    - `deleteWeatherTemplate`: åˆ é™¤å¤©æ°”æ¨¡æ¿
  - **äº‘å…»èŒ¶å›­æ–¹æ¡ˆï¼ˆAdoption Plansï¼‰**ï¼š
    - `getAdoptionPlan`: è·å–æŒ‡å®šç±»å‹çš„æ–¹æ¡ˆï¼ˆä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»ºé»˜è®¤æ–¹æ¡ˆï¼‰
    - `updateAdoptionPlan`: æ›´æ–°æ–¹æ¡ˆï¼ˆæ ¹æ®ç±»å‹è¿‡æ»¤å…è®¸çš„å­—æ®µï¼‰
  - **ç”¨æˆ·ä¿¡æ¯ï¼ˆUserï¼‰**ï¼š
    - `getUser`: è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯

- `src/routes/managementRoutes.ts`: åˆ›å»ºç»¼åˆç®¡ç†è·¯ç”±
  - **ç­‰çº§ç®¡ç†**ï¼š
    - `GET /api/grades` - è·å–ç­‰çº§åˆ—è¡¨ï¼ˆéœ€ç™»å½•ï¼‰
    - `POST /api/grades` - åˆ›å»ºç­‰çº§ï¼ˆéœ€ç™»å½•ï¼‰
    - `PUT /api/grades/:id` - æ›´æ–°ç­‰çº§ï¼ˆéœ€ç™»å½•ï¼‰
    - `DELETE /api/grades/:id` - åˆ é™¤ç­‰çº§ï¼ˆéœ€ç™»å½•ï¼‰
  - **äººå‘˜ç®¡ç†**ï¼š
    - `GET /api/personnel` - è·å–äººå‘˜åˆ—è¡¨ï¼ˆéœ€ç™»å½•ï¼Œæ”¯æŒ ?role= ç­›é€‰ï¼‰
    - `POST /api/personnel` - æ–°å¢äººå‘˜ï¼ˆéœ€ç™»å½•ï¼‰
    - `PUT /api/personnel/:id` - æ›´æ–°äººå‘˜ä¿¡æ¯ï¼ˆéœ€ç™»å½•ï¼‰
    - `DELETE /api/personnel/:id` - åˆ é™¤äººå‘˜ï¼ˆéœ€ç™»å½•ï¼‰
  - **å¤©æ°”æ¨¡æ¿ç®¡ç†**ï¼š
    - `GET /api/weather-templates` - è·å–å¤©æ°”æ¨¡æ¿åˆ—è¡¨ï¼ˆéœ€ç™»å½•ï¼Œæ”¯æŒ ?active_only=trueï¼‰
    - `POST /api/weather-templates` - åˆ›å»ºå¤©æ°”æ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰
    - `PUT /api/weather-templates/:id` - æ›´æ–°å¤©æ°”æ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰
    - `DELETE /api/weather-templates/:id` - åˆ é™¤å¤©æ°”æ¨¡æ¿ï¼ˆéœ€ç™»å½•ï¼‰
  - **äº‘å…»èŒ¶å›­æ–¹æ¡ˆ**ï¼š
    - `GET /api/adoption-plans/:type` - è·å–æ–¹æ¡ˆï¼ˆéœ€ç™»å½•ï¼Œtype: private/enterprise/b2bï¼‰
    - `PUT /api/adoption-plans/:type` - æ›´æ–°æ–¹æ¡ˆï¼ˆéœ€ç™»å½•ï¼‰
  - **ç”¨æˆ·ä¿¡æ¯**ï¼š
    - `GET /api/user` - è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€ç™»å½•ï¼‰

### 2. Modified Files

- `src/server.ts`:
  - æ·»åŠ äº† `import templateRoutes from './routes/templateRoutes'` å¯¼å…¥è¯­å¥
  - æ·»åŠ äº† `import managementRoutes from './routes/managementRoutes'` å¯¼å…¥è¯­å¥
  - åœ¨è·¯ç”±æ³¨å†Œéƒ¨åˆ†æ·»åŠ äº† `app.use('/api', templateRoutes)` è·¯ç”±æ³¨å†Œ
  - åœ¨è·¯ç”±æ³¨å†Œéƒ¨åˆ†æ·»åŠ äº† `app.use('/api', managementRoutes)` è·¯ç”±æ³¨å†Œ
  - ç¡®ä¿æ‰€æœ‰æ–°æ¨¡å—çš„ API è·¯ç”±å·²æ­£ç¡®æ³¨å†Œ

## ğŸ“Š å·®å¼‚åˆ†æç»“æœ

### å·²è¿ç§»çš„æ¨¡å— âœ…
1. **è®¤è¯æ¨¡å—** (`/api/auth`) - authRoutes
2. **å“ç±»ç®¡ç†** (`/api/categories`) - categoryRoutes
3. **é‡‡æ‘˜è®°å½•** (`/api/harvest-records`) - harvestRoutes
4. **æ‰¹æ¬¡ç®¡ç†** (`/api/batches`) - traceabilityRoutes
5. **è½åœ°é¡µç®¡ç†** (`/api/plots`, `/api/settings`) - landingRoutes
6. **æ¨¡æ¿ç®¡ç†** (`/api/step-templates`, `/api/title-templates`, `/api/appreciation-templates`) - templateRoutes âœ¨ **æœ¬æ¬¡æ–°å¢**
7. **ç­‰çº§ç®¡ç†** (`/api/grades`) - managementRoutes âœ¨ **æœ¬æ¬¡æ–°å¢**
8. **äººå‘˜ç®¡ç†** (`/api/personnel`) - managementRoutes âœ¨ **æœ¬æ¬¡æ–°å¢**
9. **å¤©æ°”æ¨¡æ¿ç®¡ç†** (`/api/weather-templates`) - managementRoutes âœ¨ **æœ¬æ¬¡æ–°å¢**
10. **äº‘å…»èŒ¶å›­æ–¹æ¡ˆ** (`/api/adoption-plans`) - managementRoutes âœ¨ **æœ¬æ¬¡æ–°å¢**
11. **ç”¨æˆ·ä¿¡æ¯** (`/api/user`) - managementRoutes âœ¨ **æœ¬æ¬¡æ–°å¢**

### å¾…è¿ç§»çš„æ¨¡å— âš ï¸

ä»¥ä¸‹æ¨¡å—åœ¨ `legacy_server.js` ä¸­å­˜åœ¨ï¼Œä½†å°šæœªå®Œå…¨è¿ç§»ï¼š

1. **ç”Ÿé•¿æ—¥å¿—ï¼ˆGrowth Logsï¼‰** - `/api/growth-logs/*`
   - `GET /api/growth-logs/existing-dates` - è·å–å·²å­˜åœ¨çš„æ—¥å¿—æ—¥æœŸåˆ—è¡¨
   - `GET /api/growth-logs` - è·å–ç”Ÿé•¿æ—¥å¿—åˆ—è¡¨ï¼ˆæ”¯æŒæŒ‰æœˆç­›é€‰ï¼‰
   - `GET /api/growth-logs/by-date` - æ ¹æ®æ—¥æœŸæŸ¥è¯¢å¤©æ°”æ•°æ®
   - `GET /api/growth-logs/count` - ç»Ÿè®¡æŒ‡å®šæœˆä»½çš„æ—¥å¿—æ•°é‡
   - `GET /api/growth-logs/:id` - è·å–å•ä¸ªæ—¥å¿—è¯¦æƒ…
   - `POST /api/growth-logs` - åˆ›å»ºç”Ÿé•¿æ—¥å¿—
   - `PUT /api/growth-logs/:id` - æ›´æ–°ç”Ÿé•¿æ—¥å¿—
   - `DELETE /api/growth-logs/:id` - åˆ é™¤ç”Ÿé•¿æ—¥å¿—
   - **çŠ¶æ€**: éœ€è¦åˆ›å»º `growthController.ts` å’Œ `growthRoutes.ts`

2. **æœˆåº¦æ€»ç»“ï¼ˆMonthly Summariesï¼‰** - `/api/monthly-summaries/*`, `/api/summaries/*`
   - `GET /api/monthly-summaries` - è·å–æœˆåº¦æ±‡æ€»åˆ—è¡¨ï¼ˆæ”¯æŒæŒ‰æœˆç­›é€‰ï¼‰
   - `GET /api/monthly-summaries/:id` - è·å–å•ä¸ªæœˆåº¦æ±‡æ€»
   - `POST /api/monthly-summaries` - åˆ›å»ºæœˆåº¦æ±‡æ€»
   - `PUT /api/monthly-summaries/:id` - æ›´æ–°æœˆåº¦æ±‡æ€»
   - `DELETE /api/monthly-summaries/:id` - åˆ é™¤æœˆåº¦æ±‡æ€»
   - `GET /api/summaries` - è·å–æ‰€æœ‰æœˆåº¦æ€»ç»“åˆ—è¡¨
   - `POST /api/summaries/generate` - è‡ªåŠ¨ç”Ÿæˆ/åˆ·æ–°æœˆåº¦æ±‡æ€»
   - **çŠ¶æ€**: éœ€è¦åˆ›å»º `summaryController.ts` å’Œ `summaryRoutes.ts`

3. **æ–‡ä»¶ä¸Šä¼ ï¼ˆUploadï¼‰** - `/api/upload`, `/api/upload-image`, `/api/weather-templates/upload-icon`
   - `POST /api/upload` - é€šç”¨æ–‡ä»¶ä¸Šä¼ æ¥å£ï¼ˆæ”¯æŒå›¾ç‰‡å’Œè§†é¢‘ï¼‰
   - `POST /api/upload-image` - ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶
   - `POST /api/weather-templates/upload-icon` - ä¸Šä¼ å¤©æ°”å›¾æ ‡ SVG
   - **çŠ¶æ€**: éœ€è¦åˆ›å»º `uploadController.ts` å’Œ `uploadRoutes.ts`ï¼Œéœ€è¦é…ç½® multer

4. **å…¬å¼€ APIï¼ˆPublic APIsï¼‰** - `/api/public/*`
   - `GET /api/public/landing-page` - âœ… å·²åœ¨ landingRoutes ä¸­å®ç°
   - `GET /api/public/growth-data` - è·å–ç”Ÿé•¿è¿‡ç¨‹æ•°æ®ï¼ˆæŒ‰æœˆï¼‰
   - `GET /api/public/monthly-summary` - è·å–æŒ‡å®šæœˆä»½æ€»ç»“
   - `GET /api/public/categories` - è·å–å·²å‘å¸ƒå“ç±»åŠæ•°é‡
   - `GET /api/public/weather-templates` - è·å–å¯ç”¨çš„å¤©æ°”æ¨¡æ¿
   - `GET /api/public/batches` - è·å–å·²å‘å¸ƒæ‰¹æ¬¡åˆ—è¡¨
   - `GET /api/public/batches/:id` - è·å–å·²å‘å¸ƒæ‰¹æ¬¡è¯¦æƒ…
   - `GET /api/public/adoption-plans` - è·å–æ‰€æœ‰é¢†å…»æ–¹æ¡ˆ
   - **çŠ¶æ€**: éƒ¨åˆ†å·²åœ¨ landingRoutesï¼Œéœ€è¦è¡¥å…¨å…¶ä»–å…¬å¼€ API

## ğŸ’¡ Key Logic / Notes

### æ•°æ®æ¨¡å‹è¿ç§»
- **ä» MongoDB (Mongoose) è¿ç§»åˆ° PostgreSQL (Prisma)**
  - æ‰€æœ‰æ¨¡å‹éƒ½å·²è¿ç§»åˆ° Prisma Schema
  - ä½¿ç”¨ Prisma Client è¿›è¡Œæ‰€æœ‰æ•°æ®åº“æ“ä½œ
  - æ­£ç¡®å¤„ç† JSON/JSONB ç±»å‹å­—æ®µ

### æ¨¡æ¿ç®¡ç†
- **åˆ¶ä½œæ­¥éª¤æ¨¡æ¿**ï¼š
  - æ­¥éª¤åç§°å›ºå®šä¸ºï¼šæ‘Šæ™¾ã€æ€é’ã€æ‰æ»ã€å¹²ç‡¥ã€åˆ†æ‹£
  - æ¯ä¸ªæ­¥éª¤åŒ…å« `manual_craft`ï¼ˆä¼ ç»Ÿå·¥è‰ºï¼‰å’Œ `modern_craft`ï¼ˆç°ä»£å·¥è‰ºï¼‰
  - ä½¿ç”¨ `upsert` æ“ä½œç¡®ä¿æ¨¡æ¿å­˜åœ¨

- **æ‰¹æ¬¡è¯¦æƒ…æ ‡é¢˜æ¨¡æ¿**ï¼š
  - æŒ‰å“ç±»åç§°ï¼ˆcategory_nameï¼‰å”¯ä¸€æ ‡è¯†
  - æ”¯æŒæ‰¹é‡æ›´æ–°æ‰€æœ‰æ¨¡æ¿

- **é‰´èµæ¨¡æ¿**ï¼š
  - æŒ‰å“ç±»åç§°ï¼ˆcategory_nameï¼‰å”¯ä¸€æ ‡è¯†
  - åŒ…å«å“é‰´ç¬”è®°ã€å†²æ³¡å»ºè®®ã€å­˜å‚¨æ–¹æ³•

### ç»¼åˆç®¡ç†
- **ç­‰çº§ç®¡ç†**ï¼š
  - ç­‰çº§åç§°å”¯ä¸€
  - æ”¯æŒå¾½ç« å›¾ç‰‡ URL

- **äººå‘˜ç®¡ç†**ï¼š
  - è§’è‰²æšä¸¾ï¼šè®°å½•äººï¼ˆRECORDERï¼‰ã€é‡‡æ‘˜é˜Ÿé•¿ï¼ˆHARVEST_LEADï¼‰ã€åˆ¶èŒ¶å¸ˆï¼ˆTEA_MASTERï¼‰
  - æ”¯æŒæŒ‰è§’è‰²ç­›é€‰
  - æ”¯æŒç»éªŒå¹´é™å­—æ®µ

- **å¤©æ°”æ¨¡æ¿ç®¡ç†**ï¼š
  - æ”¯æŒå¯ç”¨/ç¦ç”¨çŠ¶æ€
  - æ”¯æŒæ’åº
  - SVG å›¾æ ‡å­˜å‚¨ä¸ºæ–‡æœ¬

- **äº‘å…»èŒ¶å›­æ–¹æ¡ˆ**ï¼š
  - ä¸‰ç§ç±»å‹ï¼šprivateï¼ˆç§äººå®šåˆ¶ï¼‰ã€enterpriseï¼ˆä¼ä¸šï¼‰ã€b2b
  - æ¯ç§ç±»å‹æœ‰ä¸åŒçš„å­—æ®µç»“æ„
  - ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºé»˜è®¤æ–¹æ¡ˆ

### API å…¼å®¹æ€§
- **ä¿æŒä¸å‰ç«¯è°ƒç”¨çš„ API è·¯å¾„ä¸€è‡´**ï¼š
  - æ‰€æœ‰è·¯ç”±è·¯å¾„ä¸æ—§ç³»ç»Ÿä¿æŒä¸€è‡´
  - å“åº”æ ¼å¼ä¸æ—§ç³»ç»Ÿå…¼å®¹
  - é”™è¯¯å¤„ç†é€»è¾‘ä¿æŒä¸€è‡´

### è®¤è¯ä¿æŠ¤
- **æ‰€æœ‰ç®¡ç†æ¥å£éƒ½éœ€è¦ç™»å½•è®¤è¯**ï¼š
  - ä½¿ç”¨ `requireLogin` ä¸­é—´ä»¶ç»Ÿä¸€ä¿æŠ¤
  - å…¬å¼€ API æ— éœ€ç™»å½•

### é”™è¯¯å¤„ç†
- **å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶**ï¼š
  - Prisma å”¯ä¸€æ€§çº¦æŸé”™è¯¯ï¼ˆP2002ï¼‰
  - Prisma è®°å½•ä¸å­˜åœ¨é”™è¯¯ï¼ˆP2025ï¼‰
  - è¾“å…¥éªŒè¯é”™è¯¯
  - å¼€å‘ç¯å¢ƒæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Œç”Ÿäº§ç¯å¢ƒéšè—æ•æ„Ÿä¿¡æ¯

## âœ… ä¿®å¤çš„é—®é¢˜
- ä¿®å¤äº†"åˆ¶ä½œæ­¥éª¤æ¨¡æ¿ç®¡ç†"é¡µé¢åŠ è½½å¤±è´¥çš„é—®é¢˜ï¼ˆæŠ¥é”™ "Unexpected token '<'"ï¼‰
- ä¿®å¤äº†å…¶ä»–æ¨¡æ¿ç®¡ç†ç›¸å…³é¡µé¢çš„åŠ è½½é—®é¢˜
- ä¿®å¤äº†ç­‰çº§ã€äººå‘˜ã€å¤©æ°”æ¨¡æ¿ç­‰ç®¡ç†é¡µé¢çš„åŠ è½½é—®é¢˜
- ä¿®å¤äº†äº‘å…»èŒ¶å›­æ–¹æ¡ˆç®¡ç†é¡µé¢çš„åŠ è½½é—®é¢˜

## âš ï¸ å¾…å®Œæˆå·¥ä½œ

ä»¥ä¸‹æ¨¡å—éœ€è¦åç»­è¿ç§»ï¼š

1. **ç”Ÿé•¿æ—¥å¿—æ¨¡å—** - éœ€è¦åˆ›å»ºå®Œæ•´çš„ CRUD æ§åˆ¶å™¨å’Œè·¯ç”±
2. **æœˆåº¦æ€»ç»“æ¨¡å—** - éœ€è¦åˆ›å»ºå®Œæ•´çš„ CRUD æ§åˆ¶å™¨å’Œè·¯ç”±ï¼ŒåŒ…æ‹¬è‡ªåŠ¨ç”ŸæˆåŠŸèƒ½
3. **æ–‡ä»¶ä¸Šä¼ æ¨¡å—** - éœ€è¦é…ç½® multer å¹¶åˆ›å»ºä¸Šä¼ æ§åˆ¶å™¨
4. **å…¬å¼€ API è¡¥å…¨** - éœ€è¦è¡¥å…¨å‰©ä½™çš„å…¬å¼€ API ç«¯ç‚¹

## ğŸ”§ Technical Details

### è·¯ç”±æ³¨å†Œ
- æ‰€æœ‰æ–°è·¯ç”±æ³¨å†Œåœ¨ `/api` è·¯å¾„ä¸‹ï¼Œä¸æ—§ç³»ç»Ÿä¿æŒä¸€è‡´
- éœ€è¦ç™»å½•çš„è·¯ç”±éƒ½é€šè¿‡ `requireLogin` ä¸­é—´ä»¶ä¿æŠ¤

### æ•°æ®åº“æ“ä½œ
- ä½¿ç”¨ Prisma Client è¿›è¡Œæ‰€æœ‰æ•°æ®åº“æ“ä½œ
- åˆ©ç”¨ Prisma çš„ç±»å‹å®‰å…¨ç‰¹æ€§
- æ­£ç¡®å¤„ç† JSON ç±»å‹å­—æ®µçš„è¯»å†™

### ä»£ç è´¨é‡
- å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•
- æ¸…æ™°çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£

